{"mappings":"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","sources":["src/index.js","src/js/partials/categories.js","src/js/partials/bestsellers.js","src/js/services/dark-theme.js"],"sourcesContent":["import './js/modals/authorization';\nimport './js/partials/header';\nimport './js/partials/main-content';\nimport './js/partials/footer';\nimport './js/partials/support.js';\nimport './js/modals/about-book';\n\nimport './js/services/dark-theme';\n","import { listenerCount } from 'process';\nimport { categoryRequest } from '../requests/apiRequests';\nimport { apiInstance } from '../services/api';\nimport { changeColorStyleInTitle, createAllCategoryList } from './bestsellers';\n\nconst list = document.querySelector('.category-list');\nconst categoryTitle = document.querySelector('.bestsellers-title');\nconst bestSellersGalery = document.querySelector('.bestsellers');\n\nexport function category() {\n  fetch('https://books-backend.p.goit.global/books/category-list')\n    .then(response => response.json())\n    .then(data => {\n      const arr = [];\n      for (const item of data) {\n        const values = item.list_name;\n        arr.push(values);\n      }\n\n      console.log(arr);\n\n      const markup = arr\n        .map(item => {\n          return `<li class=\"category-item\">\n        <a class=\"category-link\" href=\"#\">${item}</a>\n        </li>`;\n        })\n        .join('');\n\n      list.insertAdjacentHTML('beforeend', markup);\n      categoryListener();\n    })\n    .catch(error => {\n      console.error('Сталася помилка при запиті:', error);\n    });\n}\n\nfunction categoryListener() {\n  list.addEventListener('click', handleCategoryClick);\n}\n\nfunction handleCategoryClick(event) {\n  event.preventDefault();\n  const target = event.target;\n\n  if (target.classList.contains('category-link')) {\n    const categoryName = target.textContent;\n\n    if (target.textContent === 'All category') {\n      categoryTitle.innerHTML = `Best Sellers Books`;\n      loadTopBooksOnClick();\n    } else {\n      categoryTitle.innerHTML = `${changeColorStyleInTitle(categoryName)}`;\n      try {\n        categoryRequest(categoryName)\n          .then(data => {\n            if (data.length === 0 || data === undefined) {\n              Notiflix.Notify.failure(\n                \"Sorry, we didn't find anything according to your request.\"\n              );\n              return;\n            }\n\n            bestSellersGalery.innerHTML = '';\n            createAllCategoryList(data, categoryName);\n          })\n          .catch(err => console.log(err));\n      } catch (error) {\n        console.log(error.message);\n      }\n    }\n  }\n}\n","const refs = {\n  bestSellersGalery: document.querySelector('.bestsellers'),\n};\n\nimport { topBooksRequest, categoryRequest } from '../requests/apiRequests';\nimport Notiflix from 'notiflix';\n\n// ===========================================================================\n\nwindow.addEventListener('DOMContentLoaded', loadTopBooksOnClick);\nasync function loadTopBooksOnClick(event) {\n  try {\n    topBooksRequest()\n      .then(data => {\n        if (data.length === 0 || data === undefined) {\n          Notiflix.Notify.failure(\n            \"Sorry, we didn't find anything according to your request.\"\n          );\n          return;\n        }\n\n        refs.bestSellersGalery.insertAdjacentHTML(\n          'beforeend',\n          createTopBookCardList(data)\n        );\n      })\n      .catch(err => console.log(err));\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\n// ===========================================================================\n\nrefs.bestSellersGalery.addEventListener('click', onCattegoryButtonElClick);\n\nexport async function onCattegoryButtonElClick(event) {\n  if (event.target.nodeName !== 'BUTTON') {\n    return;\n  }\n\n  const cattegoryName = event.target.name;\n\n  try {\n    categoryRequest(cattegoryName)\n      .then(data => {\n        if (data.length === 0 || data === undefined) {\n          Notiflix.Notify.failure(\n            \"Sorry, we didn't find anything according to your request.\"\n          );\n          return;\n        }\n\n        refs.bestSellersGalery.innerHTML = '';\n        createAllCategoryList(data, cattegoryName);\n      })\n      .catch(err => console.log(err));\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n// ===========================================================================\nwindow.addEventListener('resize', hideBooks);\n\nfunction hideBooks() {\n  const listCategoriesEl = Array.from(\n    document.querySelectorAll('.bestsellers-list')\n  );\n  if (window.innerWidth < 768) {\n    listCategoriesEl.forEach(item => {\n      for (let i = 0; i < item.children.length; i += 1) {\n        if (i === 0) {\n          item.children[i].hidden = false;\n          continue;\n        }\n        item.children[i].hidden = true;\n      }\n    });\n  }\n  if (window.innerWidth >= 768 && window.innerWidth < 1440) {\n    listCategoriesEl.forEach(item => {\n      for (let i = 0; i < item.children.length; i += 1) {\n        if (i <= 2) {\n          item.children[i].hidden = false;\n          continue;\n        }\n        item.children[i].hidden = true;\n      }\n    });\n  }\n  if (window.innerWidth >= 1440) {\n    listCategoriesEl.forEach(item => {\n      for (let i = 0; i < item.children.length; i += 1) {\n        item.children[i].hidden = false;\n      }\n    });\n  }\n}\n\n// ===========================================================================\n\nexport function createTopBookCardList(arr) {\n  return arr\n    .map(({ list_name, books }) => {\n      return `<div class=\"bestsellers-card\">\n            <h2 class=\"bestsellers-title-book\">${list_name}</h2>\n            <ul class=\"bestsellers-list\">\n            ${makeMarkupBook(books)}\n                </ul>\n                <button class=\"bestsellers-btn\" name=\"${list_name}\" type=\"button\">See more</button>\n            </div>`;\n    })\n    .join('');\n}\n\nexport function makeMarkupBook(books) {\n  const markup = books\n    .map(({ _id, book_image, title, author }) => {\n      return ` \n      <li class=\"bestsellers-card-item\" id=\"${_id}\">\n      <a href=\"\" class=\"bestsellers-link project-transit\" id=\"${_id}\"> \n        <!-- box-menu -->\n        <div class=\"box\">\n            <p class = \"overlay\" id=\"${_id}\">Quick View</p>  \n            <img class=\"gallery__image\" src=\"${book_image}\" id=\"${_id}\">\n            </div>\n         <!-- box-menu -->\n         <div class=\"text-box\">\n          <h3 class=\"book-name\">${title} id=\"${_id}\"</h3>\n          <p class=\"author\">${author} id=\"${_id}\"</p>\n          </div>\n          </a>\n         </li>\n        `;\n    })\n    .join('');\n  return markup;\n}\n\n// ===========================================================================\n\nexport function createAllCategoryList(data, cattegoryName) {\n  refs.bestSellersGalery.innerHTML = `<h2 class=\"bestsellers-title\">${changeColorStyleInTitle(\n    cattegoryName\n  )}</h2>\n                  <div class=\"bestsellers-category-item\" name=\"${cattegoryName}\">\n                  <ul class=\"category-book-list\">\n                 ${makeMarkupBook(data)}\n                  </ul>\n                  </div>`;\n}\n// ===========================================================================\nexport function changeColorStyleInTitle(category) {\n  const titleToArray = category.trim().split(' ');\n  const lastWord = titleToArray[titleToArray.length - 1];\n  const stringExceptLastWord = titleToArray\n    .slice(0, titleToArray.length - 1)\n    .join(' ');\n  const stringFinal =\n    stringExceptLastWord +\n    ` <span class=\"bestsellers-title-span\">${lastWord}</span>`;\n  return stringFinal;\n}\n","import { category } from '../partials/categories';\n\ncategory();\n\nconst refs = {\n  bodyEl: document.querySelector('body'),\n  headerEl: document.querySelector('.header-section'),\n  headerNavLinkEl: document.querySelector('.shopping'),\n  logoLightEl: document.querySelector('.light_icon'),\n  logoDarkEl: document.querySelector('.dark_icon'),\n  titleEl: document.querySelector('.bestsellers-title'),\n  jsCategoryListEl: document.querySelector('.js-category-list'),\n  footerEl: document.querySelector('.footer-js'),\n  logoFooterLightEl: document.querySelector('.light_icon_footer'),\n  logoFooterDarkEl: document.querySelector('.dark_icon_footer'),\n  bookNameEl: document.querySelector('.bestsellers'),\n  aboutTeamEL: document.querySelector('.about-team-window'),\n};\n\nconst arrayEl = [\n  refs.bodyEl,\n  refs.headerEl,\n  refs.headerNavLinkEl,\n  refs.logoLightEl,\n  refs.logoDarkEl,\n  refs.titleEl,\n  refs.jsCategoryListEl,\n  refs.footerEl,\n  refs.logoFooterLightEl,\n  refs.logoFooterDarkEl,\n  refs.bookNameEl,\n  refs.aboutTeamEL,\n];\n\nconst switcherEl = document.querySelector('.js-switch-theme');\n\nconst STORAGE_KEY = 'dark-theme';\n\nswitcherEl.addEventListener('click', onClick);\n\nonLoadDarkTheme();\n\n// Функція для зміни теми сторінки\nfunction onClick() {\n  arrayEl.map(element => element.classList.toggle('dark-theme'));\n\n  if (localStorage.getItem(STORAGE_KEY) === 'true') {\n    localStorage.removeItem(STORAGE_KEY);\n    return;\n  }\n\n  localStorage.setItem(STORAGE_KEY, true);\n}\n\n// Функція для відображення даних зі сховища при перезавантаженні сторінки\nfunction onLoadDarkTheme() {\n  const value = localStorage.getItem(STORAGE_KEY);\n  if (value) {\n    switcherEl.setAttribute('checked', true);\n    arrayEl.map(element => element.classList.add('dark-theme'));\n  }\n}\n"],"names":["parcelRequire","$bpxeT","$b14804a6483c5e74$var$refs","bestSellersGalery","document","querySelector","$b14804a6483c5e74$var$_loadTopBooksOnClick","$parcel$interopDefault","$2TvXO","mark","_callee","event","$7dm53","topBooksRequest","then","data","length","undefined","insertAdjacentHTML","$b14804a6483c5e74$export$bf5d47af4cde56bf","$6JpON","Notify","failure","catch","err","console","log","error","message","apply","this","arguments","$b14804a6483c5e74$var$_onCattegoryButtonElClick","cattegoryName","target","nodeName","name","categoryRequest","innerHTML","$b14804a6483c5e74$export$461df0cd4992043c","arr","map","param","list_name","books","concat","$b14804a6483c5e74$export$d37bd98c37b31f0d","join","_id","book_image","title","author","$b14804a6483c5e74$export$e69435ba21043376","category","titleToArray","trim","split","lastWord","slice","window","addEventListener","listCategoriesEl","Array","from","querySelectorAll","innerWidth","forEach","item","i","children","hidden","$f4b52eef2c56e1a9$var$list","$f4b52eef2c56e1a9$var$categoryTitle","$f4b52eef2c56e1a9$var$bestSellersGalery","$f4b52eef2c56e1a9$var$handleCategoryClick","preventDefault","classList","contains","categoryName","textContent","loadTopBooksOnClick","Notiflix","fetch","response","json","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","values","value","push","return","markup","$f51531819016a311$var$refs","bodyEl","headerEl","headerNavLinkEl","logoLightEl","logoDarkEl","titleEl","jsCategoryListEl","footerEl","logoFooterLightEl","logoFooterDarkEl","bookNameEl","aboutTeamEL","$f51531819016a311$var$arrayEl","$f51531819016a311$var$switcherEl","$f51531819016a311$var$STORAGE_KEY","element","toggle","localStorage","getItem","removeItem","setItem","setAttribute","add"],"version":3,"file":"index.0196cd0a.js.map"}