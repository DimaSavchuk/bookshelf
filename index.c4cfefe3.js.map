{"mappings":"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","sources":["src/index.js","src/js/partials/categories.js","src/js/partials/bestsellers.js","src/js/services/dark-theme.js"],"sourcesContent":["import './js/modals/authorization';\nimport './js/partials/header';\nimport './js/partials/main-content';\nimport './js/partials/footer';\nimport './js/partials/support.js';\nimport './js/modals/about-book';\n\nimport './js/services/dark-theme';\n","import { listenerCount } from 'process';\nimport { categoryRequest } from '../requests/apiRequests';\nimport { apiInstance } from '../services/api';\nimport { changeColorStyleInTitle, createAllCategoryList } from './bestsellers';\n\nconst list = document.querySelector('.category-list');\nconst categoryTitle = document.querySelector('.bestsellers-title');\nconst bestSellersGalery = document.querySelector('.bestsellers');\n\nexport function category() {\n  fetch('https://books-backend.p.goit.global/books/category-list')\n    .then(response => response.json())\n    .then(data => {\n      const arr = [];\n      for (const item of data) {\n        const values = item.list_name;\n        arr.push(values);\n      }\n\n      console.log(arr);\n\n      const markup = arr\n        .map(item => {\n          return `<li class=\"category-item\">\n        <a class=\"category-link\" href=\"#\">${item}</a>\n        </li>`;\n        })\n        .join('');\n\n      list.insertAdjacentHTML('beforeend', markup);\n      categoryListener();\n    })\n    .catch(error => {\n      console.error('Сталася помилка при запиті:', error);\n    });\n}\n\nfunction categoryListener() {\n  list.addEventListener('click', handleCategoryClick);\n}\n\nfunction handleCategoryClick(event) {\n  event.preventDefault();\n  const target = event.target;\n\n  if (target.classList.contains('category-link')) {\n    const categoryName = target.textContent;\n\n    if (target.textContent === 'All category') {\n      categoryTitle.innerHTML = `Best Sellers Books`;\n      loadTopBooksOnClick();\n    } else {\n      categoryTitle.innerHTML = `${changeColorStyleInTitle(categoryName)}`;\n      try {\n        categoryRequest(categoryName)\n          .then(data => {\n            if (data.length === 0 || data === undefined) {\n              Notiflix.Notify.failure(\n                \"Sorry, we didn't find anything according to your request.\"\n              );\n              return;\n            }\n\n            bestSellersGalery.innerHTML = '';\n            createAllCategoryList(data, categoryName);\n          })\n          .catch(err => console.log(err));\n      } catch (error) {\n        console.log(error.message);\n      }\n    }\n  }\n}\n","const refs = {\n  bestSellersGalery: document.querySelector('.bestsellers'),\n};\n\nimport { topBooksRequest, categoryRequest } from '../requests/apiRequests';\nimport Notiflix from 'notiflix';\n\n// ===========================================================================\n\nwindow.addEventListener('DOMContentLoaded', loadTopBooksOnClick);\nasync function loadTopBooksOnClick(event) {\n  try {\n    topBooksRequest()\n      .then(data => {\n        if (data.length === 0 || data === undefined) {\n          Notiflix.Notify.failure(\n            \"Sorry, we didn't find anything according to your request.\"\n          );\n          return;\n        }\n\n        refs.bestSellersGalery.insertAdjacentHTML(\n          'beforeend',\n          createTopBookCardList(data)\n        );\n      })\n      .catch(err => console.log(err));\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\n// ===========================================================================\n\nrefs.bestSellersGalery.addEventListener('click', onCattegoryButtonElClick);\n\nexport async function onCattegoryButtonElClick(event) {\n  if (event.target.nodeName !== 'BUTTON') {\n    return;\n  }\n\n  const cattegoryName = event.target.name;\n\n  try {\n    categoryRequest(cattegoryName)\n      .then(data => {\n        if (data.length === 0 || data === undefined) {\n          Notiflix.Notify.failure(\n            \"Sorry, we didn't find anything according to your request.\"\n          );\n          return;\n        }\n\n        refs.bestSellersGalery.innerHTML = '';\n        createAllCategoryList(data, cattegoryName);\n      })\n      .catch(err => console.log(err));\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n// ===========================================================================\nwindow.addEventListener('resize', hideBooks);\n\nfunction hideBooks() {\n  const listCategoriesEl = Array.from(\n    document.querySelectorAll('.bestsellers-list')\n  );\n  if (window.innerWidth < 768) {\n    listCategoriesEl.forEach(item => {\n      for (let i = 0; i < item.children.length; i += 1) {\n        if (i === 0) {\n          item.children[i].hidden = false;\n          continue;\n        }\n        item.children[i].hidden = true;\n      }\n    });\n  }\n  if (window.innerWidth >= 768 && window.innerWidth < 1440) {\n    listCategoriesEl.forEach(item => {\n      for (let i = 0; i < item.children.length; i += 1) {\n        if (i <= 2) {\n          item.children[i].hidden = false;\n          continue;\n        }\n        item.children[i].hidden = true;\n      }\n    });\n  }\n  if (window.innerWidth >= 1440) {\n    listCategoriesEl.forEach(item => {\n      for (let i = 0; i < item.children.length; i += 1) {\n        item.children[i].hidden = false;\n      }\n    });\n  }\n}\n\n// ===========================================================================\n\nexport function createTopBookCardList(arr) {\n  return arr\n    .map(({ list_name, books }) => {\n      return `<div class=\"bestsellers-card\">\n            <h2 class=\"bestsellers-title-book\">${list_name}</h2>\n            <ul class=\"bestsellers-list\">\n            ${makeMarkupBook(books)}\n                </ul>\n                <button class=\"bestsellers-btn\" name=\"${list_name}\" type=\"button\">See more</button>\n            </div>`;\n    })\n    .join('');\n}\n\nexport function makeMarkupBook(books) {\n  const markup = books\n    .map(({ _id, book_image, title, author }) => {\n      return ` \n      <li class=\"bestsellers-card-item\" id=\"${_id}\">\n      <a href=\"\" class=\"bestsellers-link project-transit\" id=\"${_id}\"> \n        <!-- box-menu -->\n        <div class=\"box\">\n            <p class = \"overlay\" id=\"${_id}\">Quick View</p>  \n            <img class=\"gallery__image\" src=\"${book_image}\" id=\"${_id}\">\n            </div>\n         <!-- box-menu -->\n         <div class=\"text-box\">\n          <h3 class=\"book-name\">${title} id=\"${_id}\"</h3>\n          <p class=\"author\">${author} id=\"${_id}\"</p>\n          </div>\n          </a>\n         </li>\n        `;\n    })\n    .join('');\n  return markup;\n}\n\n// ===========================================================================\n\nexport function createAllCategoryList(data, cattegoryName) {\n  refs.bestSellersGalery.innerHTML = `<h2 class=\"bestsellers-title\">${changeColorStyleInTitle(\n    cattegoryName\n  )}</h2>\n                  <div class=\"bestsellers-category-item\" name=\"${cattegoryName}\">\n                  <ul class=\"category-book-list\">\n                 ${makeMarkupBook(data)}\n                  </ul>\n                  </div>`;\n}\n// ===========================================================================\nexport function changeColorStyleInTitle(category) {\n  const titleToArray = category.trim().split(' ');\n  const lastWord = titleToArray[titleToArray.length - 1];\n  const stringExceptLastWord = titleToArray\n    .slice(0, titleToArray.length - 1)\n    .join(' ');\n  const stringFinal =\n    stringExceptLastWord +\n    ` <span class=\"bestsellers-title-span\">${lastWord}</span>`;\n  return stringFinal;\n}\n","import { category } from '../partials/categories';\n\ncategory();\n\nconst refs = {\n  bodyEl: document.querySelector('body'),\n  headerEl: document.querySelector('.header-section'),\n  headerNavLinkEl: document.querySelector('.shopping'),\n  logoLightEl: document.querySelector('.light_icon'),\n  logoDarkEl: document.querySelector('.dark_icon'),\n  titleEl: document.querySelector('.bestsellers-title'),\n  jsCategoryListEl: document.querySelector('.js-category-list'),\n  footerEl: document.querySelector('.footer-js'),\n  logoFooterLightEl: document.querySelector('.light_icon_footer'),\n  logoFooterDarkEl: document.querySelector('.dark_icon_footer'),\n  bookNameEl: document.querySelector('.bestsellers'),\n  aboutTeamEL: document.querySelector('.about-team-window'),\n};\n\nconst arrayEl = [\n  refs.bodyEl,\n  refs.headerEl,\n  refs.headerNavLinkEl,\n  refs.logoLightEl,\n  refs.logoDarkEl,\n  refs.titleEl,\n  refs.jsCategoryListEl,\n  refs.footerEl,\n  refs.logoFooterLightEl,\n  refs.logoFooterDarkEl,\n  refs.bookNameEl,\n  refs.aboutTeamEL,\n];\n\nconst switcherEl = document.querySelector('.js-switch-theme');\n\nconst STORAGE_KEY = 'dark-theme';\n\nswitcherEl.addEventListener('click', onClick);\n\nonLoadDarkTheme();\n\n// Функція для зміни теми сторінки\nfunction onClick() {\n  arrayEl.map(element => element.classList.toggle('dark-theme'));\n\n  if (localStorage.getItem(STORAGE_KEY) === 'true') {\n    localStorage.removeItem(STORAGE_KEY);\n    return;\n  }\n\n  localStorage.setItem(STORAGE_KEY, true);\n}\n\n// Функція для відображення даних зі сховища при перезавантаженні сторінки\nfunction onLoadDarkTheme() {\n  const value = localStorage.getItem(STORAGE_KEY);\n  if (value) {\n    switcherEl.setAttribute('checked', true);\n    arrayEl.map(element => element.classList.add('dark-theme'));\n  }\n}\n"],"names":["parcelRequire","$1C8nL","$ecd5d41bef17a9f6$var$refs","bestSellersGalery","document","querySelector","$ecd5d41bef17a9f6$export$d37bd98c37b31f0d","books","map","_id","book_image","title","author","join","$ecd5d41bef17a9f6$export$461df0cd4992043c","data","cattegoryName","innerHTML","$ecd5d41bef17a9f6$export$e69435ba21043376","category","titleToArray","trim","split","lastWord","length","slice","window","addEventListener","async","event","topBooksRequest","then","undefined","insertAdjacentHTML","list_name","$parcel$interopDefault","$7Y9D8","Notify","failure","catch","err","console","log","error","message","target","nodeName","name","categoryRequest","listCategoriesEl","Array","from","querySelectorAll","innerWidth","forEach","item","i","children","hidden","$39c0b1ac1d177da7$var$list","$39c0b1ac1d177da7$var$categoryTitle","$39c0b1ac1d177da7$var$bestSellersGalery","$39c0b1ac1d177da7$var$handleCategoryClick","preventDefault","classList","contains","categoryName","textContent","loadTopBooksOnClick","Notiflix","fetch","response","json","arr","item1","values","push","markup","$390a81f5635fef21$var$refs","bodyEl","headerEl","headerNavLinkEl","logoLightEl","logoDarkEl","titleEl","jsCategoryListEl","footerEl","logoFooterLightEl","logoFooterDarkEl","bookNameEl","aboutTeamEL","$390a81f5635fef21$var$arrayEl","$390a81f5635fef21$var$switcherEl","element","toggle","localStorage","getItem","removeItem","setItem","setAttribute","add"],"version":3,"file":"index.c4cfefe3.js.map"}