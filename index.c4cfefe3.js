function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},n={},l=t.parcelRequired7c6;null==l&&((l=function(e){if(e in o)return o[e].exports;if(e in n){var t=n[e];delete n[e];var l={id:e,exports:{}};return o[e]=l,t.call(l.exports,l,l.exports),l.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},t.parcelRequired7c6=l),l("7Pen5"),l("3uZfz"),l("4TNnu");var r=l("1C8nL");l("97f4c");r=l("1C8nL");var s=l("7Y9D8");const i={bestSellersGalery:document.querySelector(".bestsellers")};function c(e){return e.map((({_id:e,book_image:t,title:o,author:n})=>` \n      <li class="bestsellers-card-item" id="${e}">\n      <a href="" class="bestsellers-link project-transit" id="${e}"> \n        \x3c!-- box-menu --\x3e\n        <div class="box">\n            <p class = "overlay" id="${e}">Quick View</p>  \n            <img class="gallery__image" src="${t}" id="${e}">\n            </div>\n         \x3c!-- box-menu --\x3e\n         <div class="text-box">\n          <h3 class="book-name">${o} id="${e}"</h3>\n          <p class="author">${n} id="${e}"</p>\n          </div>\n          </a>\n         </li>\n        `)).join("")}function a(e,t){i.bestSellersGalery.innerHTML=`<h2 class="bestsellers-title">${d(t)}</h2>\n                  <div class="bestsellers-category-item" name="${t}">\n                  <ul class="category-book-list">\n                 ${c(e)}\n                  </ul>\n                  </div>`}function d(e){const t=e.trim().split(" "),o=t[t.length-1];return t.slice(0,t.length-1).join(" ")+` <span class="bestsellers-title-span">${o}</span>`}window.addEventListener("DOMContentLoaded",(async function(t){try{(0,r.topBooksRequest)().then((t=>{0!==t.length&&void 0!==t?i.bestSellersGalery.insertAdjacentHTML("beforeend",t.map((({list_name:e,books:t})=>`<div class="bestsellers-card">\n            <h2 class="bestsellers-title-book">${e}</h2>\n            <ul class="bestsellers-list">\n            ${c(t)}\n                </ul>\n                <button class="bestsellers-btn" name="${e}" type="button">See more</button>\n            </div>`)).join("")):e(s).Notify.failure("Sorry, we didn't find anything according to your request.")})).catch((e=>console.log(e)))}catch(e){console.log(e.message)}})),i.bestSellersGalery.addEventListener("click",(async function(t){if("BUTTON"!==t.target.nodeName)return;const o=t.target.name;try{(0,r.categoryRequest)(o).then((t=>{0!==t.length&&void 0!==t?(i.bestSellersGalery.innerHTML="",a(t,o)):e(s).Notify.failure("Sorry, we didn't find anything according to your request.")})).catch((e=>console.log(e)))}catch(e){console.log(e.message)}})),window.addEventListener("resize",(function(){const e=Array.from(document.querySelectorAll(".bestsellers-list"));window.innerWidth<768&&e.forEach((e=>{for(let t=0;t<e.children.length;t+=1)e.children[t].hidden=0!==t}));window.innerWidth>=768&&window.innerWidth<1440&&e.forEach((e=>{for(let t=0;t<e.children.length;t+=1)e.children[t].hidden=!(t<=2)}));window.innerWidth>=1440&&e.forEach((e=>{for(let t=0;t<e.children.length;t+=1)e.children[t].hidden=!1}))}));const u=document.querySelector(".category-list"),h=document.querySelector(".bestsellers-title"),g=document.querySelector(".bestsellers");function y(e){e.preventDefault();const t=e.target;if(t.classList.contains("category-link")){const e=t.textContent;if("All category"===t.textContent)h.innerHTML="Best Sellers Books",loadTopBooksOnClick();else{h.innerHTML=`${d(e)}`;try{(0,r.categoryRequest)(e).then((t=>{0!==t.length&&void 0!==t?(g.innerHTML="",a(t,e)):Notiflix.Notify.failure("Sorry, we didn't find anything according to your request.")})).catch((e=>console.log(e)))}catch(e){console.log(e.message)}}}}l("j4fn6"),l("3D1e0"),l("j4fn6"),l("iOyVp"),fetch("https://books-backend.p.goit.global/books/category-list").then((e=>e.json())).then((e=>{const t=[];for(const o of e){const e=o.list_name;t.push(e)}console.log(t);const o=t.map((e=>`<li class="category-item">\n        <a class="category-link" href="#">${e}</a>\n        </li>`)).join("");u.insertAdjacentHTML("beforeend",o),u.addEventListener("click",y)})).catch((e=>{console.error("Сталася помилка при запиті:",e)}));const f={bodyEl:document.querySelector("body"),headerEl:document.querySelector(".header-section"),headerNavLinkEl:document.querySelector(".shopping"),logoLightEl:document.querySelector(".light_icon"),logoDarkEl:document.querySelector(".dark_icon"),titleEl:document.querySelector(".bestsellers-title"),jsCategoryListEl:document.querySelector(".js-category-list"),footerEl:document.querySelector(".footer-js"),logoFooterLightEl:document.querySelector(".light_icon_footer"),logoFooterDarkEl:document.querySelector(".dark_icon_footer"),bookNameEl:document.querySelector(".bestsellers"),aboutTeamEL:document.querySelector(".about-team-window")},m=[f.bodyEl,f.headerEl,f.headerNavLinkEl,f.logoLightEl,f.logoDarkEl,f.titleEl,f.jsCategoryListEl,f.footerEl,f.logoFooterLightEl,f.logoFooterDarkEl,f.bookNameEl,f.aboutTeamEL],b=document.querySelector(".js-switch-theme");b.addEventListener("click",(function(){if(m.map((e=>e.classList.toggle("dark-theme"))),"true"===localStorage.getItem("dark-theme"))return void localStorage.removeItem("dark-theme");localStorage.setItem("dark-theme",!0)})),localStorage.getItem("dark-theme")&&(b.setAttribute("checked",!0),m.map((e=>e.classList.add("dark-theme"))));
//# sourceMappingURL=index.c4cfefe3.js.map
