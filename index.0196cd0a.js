!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){o[e]=t},t.parcelRequired7c6=r),r("kZtGT"),r("9Z1ug"),r("6qd2L");var l=r("7dm53");r("4iERr");var c=r("bpxeT"),i=r("2TvXO"),a=(l=r("7dm53"),r("6JpON")),s={bestSellersGalery:document.querySelector(".bestsellers")};function u(){return(u=e(c)(e(i).mark((function t(n){return e(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{(0,l.topBooksRequest)().then((function(t){0!==t.length&&void 0!==t?s.bestSellersGalery.insertAdjacentHTML("beforeend",f(t)):e(a).Notify.failure("Sorry, we didn't find anything according to your request.")})).catch((function(e){return console.log(e)}))}catch(e){console.log(e.message)}case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(){return(d=e(c)(e(i).mark((function t(n){var o;return e(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("BUTTON"===n.target.nodeName){t.next=2;break}return t.abrupt("return");case 2:o=n.target.name;try{(0,l.categoryRequest)(o).then((function(t){0!==t.length&&void 0!==t?(s.bestSellersGalery.innerHTML="",g(t,o)):e(a).Notify.failure("Sorry, we didn't find anything according to your request.")})).catch((function(e){return console.log(e)}))}catch(e){console.log(e.message)}case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(e){return e.map((function(e){var t=e.list_name,n=e.books;return'<div class="bestsellers-card">\n            <h2 class="bestsellers-title-book">'.concat(t,'</h2>\n            <ul class="bestsellers-list">\n            ').concat(h(n),'\n                </ul>\n                <button class="bestsellers-btn" name="').concat(t,'" type="button">See more</button>\n            </div>')})).join("")}function h(e){return e.map((function(e){var t=e._id,n=e.book_image,o=e.title,r=e.author;return' \n      <li class="bestsellers-card-item" id="'.concat(t,'">\n      <a href="" class="bestsellers-link project-transit" id="').concat(t,'"> \n        \x3c!-- box-menu --\x3e\n        <div class="box">\n            <p class = "overlay" id="').concat(t,'">Quick View</p>  \n            <img class="gallery__image" src="').concat(n,'" id="').concat(t,'">\n            </div>\n         \x3c!-- box-menu --\x3e\n         <div class="text-box">\n          <h3 class="book-name">').concat(o,' id="').concat(t,'"</h3>\n          <p class="author">').concat(r,' id="').concat(t,'"</p>\n          </div>\n          </a>\n         </li>\n        ')})).join("")}function g(e,t){s.bestSellersGalery.innerHTML='<h2 class="bestsellers-title">'.concat(y(t),'</h2>\n                  <div class="bestsellers-category-item" name="').concat(t,'">\n                  <ul class="category-book-list">\n                 ').concat(h(e),"\n                  </ul>\n                  </div>")}function y(e){var t=e.trim().split(" "),n=t[t.length-1];return t.slice(0,t.length-1).join(" ")+' <span class="bestsellers-title-span">'.concat(n,"</span>")}window.addEventListener("DOMContentLoaded",(function(e){return u.apply(this,arguments)})),s.bestSellersGalery.addEventListener("click",(function(e){return d.apply(this,arguments)})),window.addEventListener("resize",(function(){var e=Array.from(document.querySelectorAll(".bestsellers-list"));window.innerWidth<768&&e.forEach((function(e){for(var t=0;t<e.children.length;t+=1)e.children[t].hidden=0!==t}));window.innerWidth>=768&&window.innerWidth<1440&&e.forEach((function(e){for(var t=0;t<e.children.length;t+=1)e.children[t].hidden=!(t<=2)}));window.innerWidth>=1440&&e.forEach((function(e){for(var t=0;t<e.children.length;t+=1)e.children[t].hidden=!1}))}));var m=document.querySelector(".category-list"),b=document.querySelector(".bestsellers-title"),p=document.querySelector(".bestsellers");function v(e){e.preventDefault();var t=e.target;if(t.classList.contains("category-link")){var n=t.textContent;if("All category"===t.textContent)b.innerHTML="Best Sellers Books",loadTopBooksOnClick();else{b.innerHTML="".concat(y(n));try{(0,l.categoryRequest)(n).then((function(e){0!==e.length&&void 0!==e?(p.innerHTML="",g(e,n)):Notiflix.Notify.failure("Sorry, we didn't find anything according to your request.")})).catch((function(e){return console.log(e)}))}catch(e){console.log(e.message)}}}}r("5iK4t"),r("jn6s9"),r("5iK4t"),r("79s99"),fetch("https://books-backend.p.goit.global/books/category-list").then((function(e){return e.json()})).then((function(e){var t=[],n=!0,o=!1,r=void 0;try{for(var l,c=e[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){var i=l.value.list_name;t.push(i)}}catch(e){o=!0,r=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw r}}console.log(t);var a=t.map((function(e){return'<li class="category-item">\n        <a class="category-link" href="#">'.concat(e,"</a>\n        </li>")})).join("");m.insertAdjacentHTML("beforeend",a),m.addEventListener("click",v)})).catch((function(e){console.error("Сталася помилка при запиті:",e)}));var k={bodyEl:document.querySelector("body"),headerEl:document.querySelector(".header-section"),headerNavLinkEl:document.querySelector(".shopping"),logoLightEl:document.querySelector(".light_icon"),logoDarkEl:document.querySelector(".dark_icon"),titleEl:document.querySelector(".bestsellers-title"),jsCategoryListEl:document.querySelector(".js-category-list"),footerEl:document.querySelector(".footer-js"),logoFooterLightEl:document.querySelector(".light_icon_footer"),logoFooterDarkEl:document.querySelector(".dark_icon_footer"),bookNameEl:document.querySelector(".bestsellers"),aboutTeamEL:document.querySelector(".about-team-window")},E=[k.bodyEl,k.headerEl,k.headerNavLinkEl,k.logoLightEl,k.logoDarkEl,k.titleEl,k.jsCategoryListEl,k.footerEl,k.logoFooterLightEl,k.logoFooterDarkEl,k.bookNameEl,k.aboutTeamEL],S=document.querySelector(".js-switch-theme"),w="dark-theme";S.addEventListener("click",(function(){if(E.map((function(e){return e.classList.toggle("dark-theme")})),"true"===localStorage.getItem(w))return void localStorage.removeItem(w);localStorage.setItem(w,!0)})),localStorage.getItem(w)&&(S.setAttribute("checked",!0),E.map((function(e){return e.classList.add("dark-theme")})))}();
//# sourceMappingURL=index.0196cd0a.js.map
