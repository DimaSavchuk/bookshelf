function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},n={},l=t.parcelRequired7c6;null==l&&((l=function(e){if(e in o)return o[e].exports;if(e in n){var t=n[e];delete n[e];var l={id:e,exports:{}};return o[e]=l,t.call(l.exports,l,l.exports),l.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},t.parcelRequired7c6=l);var r=l("1C8nL"),s=l("czhBR"),a=(r=l("1C8nL"),l("7Y9D8"));const i={bestSellersGalery:document.querySelector(".bestsellers")};async function c(){try{(0,r.topBooksRequest)().then((t=>{0!==t.length&&void 0!==t?i.bestSellersGalery.insertAdjacentHTML("beforeend",t.map((({list_name:e,books:t})=>`<div class="bestsellers-card">\n            <h2 class="bestsellers-title-book">${e}</h2>\n            <ul class="bestsellers-list">\n            ${d(t)}\n                </ul>\n                <button class="bestsellers-btn" name="${e}" type="button">See more</button>\n            </div>`)).join("")):e(a).Notify.failure("Sorry, we didn't find anything according to your request.")})).catch((e=>console.log(e)))}catch(e){console.log(e.message)}}function d(e){return e.map((({_id:e,book_image:t,title:o,author:n})=>` \n      <li class="bestsellers-card-item" id="${e}">\n      <a href="" class="bestsellers-link project-transit" id="${e}"> \n        \x3c!-- box-menu --\x3e\n        <div class="bestsellers-box-menu">\n            <p class = "bestsellers-overlay" id="${e}">Quick View</p>  \n            <img class="gallery__image" src="${t}" alt="${o}" id="${e}">\n            </div>\n         \x3c!-- box-menu --\x3e\n         <div class="text-box">\n          <h3 class="book-name" id="${e}">${o} </h3>\n          <p class="author" id="${e}">${n}</p>\n          </div>\n          </a>\n         </li>\n        `)).join("")}function u(e,t){i.bestSellersGalery.innerHTML=`<h2 class="bestsellers-title">${h(t)}</h2>\n                  <div class="bestsellers-category-item" name="${t}">\n                  <ul class="category-book-list">\n                 ${d(e)}\n                  </ul>\n                  </div>`}function h(e){const t=e.trim().split(" "),o=t[t.length-1];return t.slice(0,t.length-1).join(" ")+` <span class="bestsellers-title-span">${o}</span>`}window.addEventListener("DOMContentLoaded",c),i.bestSellersGalery.addEventListener("click",(async function(t){if("BUTTON"!==t.target.nodeName)return;const o=t.target.name;try{(0,r.categoryRequest)(o).then((t=>{0!==t.length&&void 0!==t?(i.bestSellersGalery.innerHTML="",u(t,o)):e(a).Notify.failure("Sorry, we didn't find anything according to your request.")})).catch((e=>console.log(e)))}catch(e){console.log(e.message)}})),window.addEventListener("resize",(function(){const e=Array.from(document.querySelectorAll(".bestsellers-list"));window.innerWidth<768&&e.forEach((e=>{for(let t=0;t<e.children.length;t+=1)e.children[t].hidden=0!==t}));window.innerWidth>=768&&window.innerWidth<1440&&e.forEach((e=>{for(let t=0;t<e.children.length;t+=1)e.children[t].hidden=!(t<=2)}));window.innerWidth>=1440&&e.forEach((e=>{for(let t=0;t<e.children.length;t+=1)e.children[t].hidden=!1}))})),window.addEventListener("DOMContentLoaded",(e=>{document.querySelector(".layout").classList.add("is-loading"),Promise.all([(0,s.authCheck)(),(0,r.topBooksRequest)(),c()]).then((()=>{const e=document.querySelector(".js-loading"),t=document.querySelector(".layout");e.classList.add("loading-overlay-hide"),t.classList.remove("is-loading")}))})),l("czhBR"),l("bUb57");r=l("1C8nL"),a=l("7Y9D8");const g=document.querySelector(".category-list"),m=document.querySelector(".bestsellers-title"),y=document.querySelector(".bestsellers");function b(t){t.preventDefault();const o=t.target;if(o.classList.contains("category-link")){const t=o.textContent;if(document.querySelectorAll(".category-item").forEach((e=>{e.classList.remove("active")})),o.parentNode.classList.add("active"),"All categories"==o.textContent)location.reload();else{m.innerHTML=`${h(t)}`;try{(0,r.categoryRequest)(t).then((o=>{0!==o.length&&void 0!==o?(y.innerHTML="",u(o,t)):e(a).Notify.failure("Sorry, we didn't find anything according to your request.")})).catch((e=>console.log(e)))}catch(e){console.log(e.message)}}}}l("dTazW"),l("epHO8"),l("khW4t"),fetch("https://books-backend.p.goit.global/books/category-list").then((e=>e.json())).then((e=>{const t=[];for(const o of e){const e=o.list_name;t.push(e)}const o=t.map((e=>`<li class="category-item">\n        <a class="category-link" href="#">${e}</a>\n        </li>`)).join("");g.insertAdjacentHTML("beforeend",o),g.addEventListener("click",b)})).catch((e=>{console.error("Сталася помилка при запиті:",e)}));const f={bodyEl:document.querySelector(".main-js"),headerEl:document.querySelector(".header-section"),headerNavLinkEl:document.querySelector(".shopping"),logoLightEl:document.querySelector(".light_icon"),logoDarkEl:document.querySelector(".dark_icon"),titleEl:document.querySelector(".bestsellers-title"),jsCategoryListEl:document.querySelector(".js-category-list"),footerEl:document.querySelector(".footer-js"),logoFooterLightEl:document.querySelector(".light_icon_footer"),logoFooterDarkEl:document.querySelector(".dark_icon_footer"),bookNameEl:document.querySelector(".bestsellers"),aboutTeamEL:document.querySelector(".about-team-window"),aboutBookModalEl:document.querySelector(".about-book-modal")},k=[f.bodyEl,f.headerEl,f.headerNavLinkEl,f.logoLightEl,f.logoDarkEl,f.titleEl,f.jsCategoryListEl,f.footerEl,f.logoFooterLightEl,f.logoFooterDarkEl,f.bookNameEl,f.aboutTeamEL,f.aboutBookModalEl],E=document.querySelector(".js-switch-theme");E.addEventListener("click",(function(){if(k.map((e=>e.classList.toggle("dark-theme"))),"true"===localStorage.getItem("dark-theme"))return void localStorage.removeItem("dark-theme");localStorage.setItem("dark-theme",!0)})),localStorage.getItem("dark-theme")&&(E.setAttribute("checked",!0),k.map((e=>e.classList.add("dark-theme"))));
//# sourceMappingURL=index.1cbe2c63.js.map
